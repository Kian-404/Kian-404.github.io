{"version":3,"sources":["webpack:///src/components/search/search.vue","webpack:///./src/components/search/search.vue?a747","webpack:///./src/components/search/search.vue","webpack:///./src/components/search/del.png"],"names":["search_search","name","components","searchInput","suggest","historyList","Scroll","scroll_scroll","confirm","confirm_confirm","data","hotkey","query","created","this","_getHost","methods","extends_default","_this","Object","search","then","res","code","result","hots","queryChange","listBulr","$refs","blur","hotkeyClick","item","queryHot","first","saveSearch","saveSearchHistory","hotkeyClick1","hisScorll","scroll","refresh","historyClear","show","vuex_esm","setTopList","computed","components_search_search","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","on","_v","searchHistory","_l","index","key","click","$event","_s","directives","rawName","value","expression","src","__webpack_require__","alt","searchList","select","listScroll","text","clearSearchHistory","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports"],"mappings":"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","file":"static/js/6.e354480c4f4b67db21a5.js","sourcesContent":["<template>\n  <div>\n    <div class=\"search-input-box\">\n      <search-input ref=\"searchInput\" @query=\"queryChange\" :query=\"query\"></search-input>\n    </div>\n    <Scroll class=\"scroll\" ref=\"scroll\" :data=\"searchHistory\">\n      <div class=\"scroll-box\">\n        <div class=\"hotkey\">\n          <h1 class=\"title\">热门搜索</h1>\n          <span @click=\"hotkeyClick(item)\" class=\"hotCon\" v-for=\"(item, index) in hotkey\" :key=\"index\">{{ item.first }}</span>\n        </div>\n        <div class=\"search-history\">\n          <h1 class=\"title\" v-show=\"searchHistory.length\">搜索历史<img src=\"./del.png\" alt=\"\" @click=\"historyClear\"></h1>\n          <historyList @select=\"hotkeyClick1\" :searchList=\"searchHistory\"></historyList>\n        </div>\n      </div>\n    </Scroll>\n    <!-- 查找显示歌曲 -->\n    <div class=\"search-result\" v-show=\"query\" ref=\"searchResult\">\n      <suggest ref=\"suggest\" @listScroll=\"listBulr\" @select=\"saveSearch\" :query=\"query\"></suggest>\n    </div>\n    <!-- 歌手详情子路由 -->\n    <transition name=\"fade\">\n      <router-view></router-view>\n    </transition>\n    <!-- 清空历史记录 -->\n    <confirm ref=\"confirm\" text=\"是否清空所有记录\" @confirm=\"clearSearchHistory\"></confirm>\n  </div>\n</template>\n\n<script>\nimport { mapMutations, mapActions, mapGetters } from \"vuex\";\n// import { ERR_OK } from \"api/config\";\nimport { getHotKey } from \"api/search\";\nimport Scroll from \"base/scroll/scroll\";\nimport searchInput from \"base/searchInput/searchInput\";\nimport historyList from \"base/historyList/historyList\";\nimport confirm from \"base/confirm/confirm\";\nimport suggest from \"components/suggest/suggest\";\nconst ERR_OK = 200;\n\nexport default {\n  name: \"Rank\",\n  components: {\n    searchInput,\n    suggest,\n    historyList,\n    Scroll,\n    confirm\n  },\n  data() {\n    return {\n      hotkey: [],\n      query: \"\" // 当前搜索框内容\n    };\n  },\n  created() {\n    this._getHost();\n  },\n  methods: {\n    _getHost() {\n      getHotKey().then(res => {\n        console.log(res);\n        if (res.code === ERR_OK) {\n          this.hotkey = res.result.hots;\n        }\n      });\n    },\n    queryChange(query) {\n      this.query = query;\n    },\n    listBulr() {\n      this.$refs.searchInput.blur();\n    },\n    hotkeyClick(item) {\n      this.$refs.searchInput.queryHot(item.first);\n    },\n    // 保存当前点击列表到本地，形成历史记录\n    saveSearch() {\n      this.saveSearchHistory(this.query);\n    },\n    // 点击历史记录\n    hotkeyClick1(item) {\n      this.$refs.searchInput.queryHot(item);\n    },\n    // 更新历史记录页的scorll\n    hisScorll() {\n      this.$refs.scroll.refresh();\n    },\n    // 清空历史记录\n    historyClear() {\n      // this.clearSearchHistory();\n      this.$refs.confirm.show();\n    },\n    ...mapMutations({\n      setTopList: \"SET_TOP_LIST\"\n    }),\n    ...mapActions([\"saveSearchHistory\", \"clearSearchHistory\"])\n  },\n  computed: {\n    ...mapGetters([\"searchHistory\"])\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped lang=\"scss\">\n@import \"assets/css/mixin.scss\";\n.search-input-box {\n  margin-top: rem(20);\n  padding: 0 rem(20);\n  box-sizing: border-box;\n  margin-bottom: rem(30);\n}\n.hotkey {\n  width: 100%;\n  min-height: rem(136);\n  max-height: rem(220);\n  overflow: hidden;\n  padding: 0 rem(20);\n  box-sizing: border-box;\n  margin: 0 0 rem(20) 0;\n}\n.title {\n  color: rgba(255, 255, 255, 0.5);\n  font-size: rem(15);\n  margin-bottom: rem(20);\n}\n.hotCon {\n  display: inline-block;\n  padding: rem(5) rem(10);\n  border-radius: rem(6);\n  border: rem(1) solid ;\n  font-size: rem(14);\n  color: rgba(255, 255, 255, 0.3);\n  margin-bottom: rem(10);\n  margin-right: rem(20);\n  background: rgb(51, 51, 51);\n}\n.search-history {\n  width: 100%;\n  padding: 0 rem(20);\n  box-sizing: border-box;\n}\n.search-result {\n  width: 100%;\n  min-height: rem(400);\n  background: rgb(34, 34, 34);\n  position: absolute;\n  top: rem(175);\n}\n/* 子路由进去动画 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.3s;\n}\n.fade-enter,\n.fade-leave-to {\n  transform: translate3d(100%, 0, 0);\n}\n.title img {\n  width: rem(18);\n  height: rem(18);\n  float: right;\n}\n.scroll {\n  width: 100%;\n  height: 73vh;\n  overflow: hidden;\n}\n.scroll-box {\n  padding-bottom: rem(50);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/search/search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"search-input-box\"},[_c('search-input',{ref:\"searchInput\",attrs:{\"query\":_vm.query},on:{\"query\":_vm.queryChange}})],1),_vm._v(\" \"),_c('Scroll',{ref:\"scroll\",staticClass:\"scroll\",attrs:{\"data\":_vm.searchHistory}},[_c('div',{staticClass:\"scroll-box\"},[_c('div',{staticClass:\"hotkey\"},[_c('h1',{staticClass:\"title\"},[_vm._v(\"热门搜索\")]),_vm._v(\" \"),_vm._l((_vm.hotkey),function(item,index){return _c('span',{key:index,staticClass:\"hotCon\",on:{\"click\":function($event){_vm.hotkeyClick(item)}}},[_vm._v(_vm._s(item.first))])})],2),_vm._v(\" \"),_c('div',{staticClass:\"search-history\"},[_c('h1',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.searchHistory.length),expression:\"searchHistory.length\"}],staticClass:\"title\"},[_vm._v(\"搜索历史\"),_c('img',{attrs:{\"src\":require(\"./del.png\"),\"alt\":\"\"},on:{\"click\":_vm.historyClear}})]),_vm._v(\" \"),_c('historyList',{attrs:{\"searchList\":_vm.searchHistory},on:{\"select\":_vm.hotkeyClick1}})],1)])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.query),expression:\"query\"}],ref:\"searchResult\",staticClass:\"search-result\"},[_c('suggest',{ref:\"suggest\",attrs:{\"query\":_vm.query},on:{\"listScroll\":_vm.listBulr,\"select\":_vm.saveSearch}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\"}},[_c('router-view')],1),_vm._v(\" \"),_c('confirm',{ref:\"confirm\",attrs:{\"text\":\"是否清空所有记录\"},on:{\"confirm\":_vm.clearSearchHistory}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-48d7af35\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/search/search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-48d7af35\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-48d7af35\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-48d7af35\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/search.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC4klEQVRoQ+1Zv2sUQRT+3q63SfSMkKAQBS3sBEUMxMZGwSLgXSMnyUyKFDaCNhb+CfZB0TbFzeRgbSSIYGOhhSKJop2FlUgECYg/uOy5+2QkB8e5e3d7u6tEZ8rdN98337yZ92beEHZ4ox0+fvzfAqrV6t5yuXyTiC4BODCsN5l5E8ATANe11u/S4GTygBDiDhFdSUPYy5aZV7XW1TR4mQRIKd8DOJSGsI+ATa31ZBq8rAICACVDqJQaGktKOTTO0KRm0FmIO2c5C86/LWBhYWEqiqIlACcBHCEiL836zMn2OzOvE9HTIAiWfN/f6MRN9MDi4uJoq9VaA3Asp4HkAbMRhuF0o9H40AZLFCCEuEVEV/NgzRnjnlKq1leAlPIrgD05k2eGY+aw1WpN+r7/2YDFeqBWq5U9z/uSma0ggDAMTzUajZe9BHie520VxJ8H7Aml1JtEAd0MnXG6818URVXXdX95ipkfAhjt7ktEZ823MAxLjuM8ihs9M593HOdHL5ykRDlQHkgSEASBWYvmIGaSWuyeaRPPzs6OTExMNOMEBEEw4vu+ycZ9cX6boEH8aQUAsB5IOCzaPWA3MQAbhfqFUhtGbRhNvnPbMGrDqA2j/WJoV/2n09wep7dnw2bifqvIZmKbiQvKxFEU7V9ZWflk6ktCiGZc7bRUKo0tLy83K5XK7vHx8W8Jl/qp7ZqnwQmIaFe3XSFVCSKartfr60KIGSJ6nlAyOae1fiylPA7gdYLNNa317bm5udOu6z6Ls8kkQAixFTe7zGyKrPeJ6GKPNzJTSnkF4CCAw0kBg5nfAjhKRG7uAqSUH7M84vWLcgP8byqlxuLsBjqNCiFWiejCAERFmbxQSs0MLWB+fv6M4zjmGfSvNDN59Xr9wdACTEchRI2Ibv/JpcTMptx4Q2ttXoli20BLqN1zu+x+l5krRLSvKHeYNwAAa0R0uV2FzkVAUQPOgpvKA1mIiuq74wX8BCJf40/1rcGAAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/search/del.png\n// module id = yW3n\n// module chunks = 6"],"sourceRoot":""}